/* Cloud hint styling */
.container {
  position: fixed;
  /* Between left boundary (0%) and moon boundary (~40% of width) */
  left: min(28vw, 40%);
  /* Move the cloud up a bit */
  top: clamp(6vh, 18vh, 24vh);
  transform: translate(-50%, -50%);
  z-index: 500;
  pointer-events: none; /* don't block cursor */
  /* Center cloud and caption under a common center */
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  /* Fine alignment tweak for caption vs cloud's visual center */
}

/* Wrapper that defines the visual box of the cloud */
.wrapper {
  position: relative;
  /* Increase cloud size further to comfortably fit two-line text */
  width: clamp(200px, 30vw, 420px);
  /* Expand horizontally a bit more without changing height */
  aspect-ratio: 2.5 / 1;
  /* Drive both cloud and text in perfect sync */
  animation: float 3.8s ease-in-out infinite, sway 8s ease-in-out infinite;
  /* Create a local stacking context so z-index inside is predictable */
  isolation: isolate;
}

.cloud {
  position: relative;
  width: 100%;
  height: 100%; /* ensure background is visible; fill wrapper height */
  background-image: url('/cloud.png');
  background-size: contain;
  background-position: center;
  background-repeat: no-repeat;
  filter: drop-shadow(0 6px 8px rgba(0,0,0,0.25));
  z-index: 1; /* cloud base below gradient, well below text */
}

/* Soft outer glow ring that gently pulses */
.cloud::before {
  content: "";
  position: absolute;
  inset: -4%;
  border-radius: 9999px;
  background: radial-gradient(ellipse at center, rgba(255,255,255,0.45), rgba(255,255,255,0) 60%);
  opacity: 0.75;
  filter: blur(10px);
  transform-origin: center;
  animation: cloudGlow 3.2s ease-in-out infinite;
  pointer-events: none;
  z-index: 0; /* glow at the very back */
}

/* Animated RGB gradient constrained to cloud silhouette */
.cloud::after {
  content: "";
  position: absolute;
  inset: 0;
  background: linear-gradient(120deg,
    rgba(255,79,79,0.9),
    rgba(255,199,46,0.9),
    rgba(88,255,137,0.9),
    rgba(88,182,255,0.9),
    rgba(163,112,255,0.9),
    rgba(255,79,220,0.9)
  );
  background-size: 400% 400%;
  mix-blend-mode: overlay;
  opacity: 1;
  animation: gradientShift 5s ease-in-out infinite;
  pointer-events: none;
  /* Mask the gradient into the cloud shape */
  -webkit-mask-image: url('/cloud.png');
  -webkit-mask-repeat: no-repeat;
  -webkit-mask-position: center;
  -webkit-mask-size: contain;
  mask-image: url('/cloud.png');
  mask-repeat: no-repeat;
  mask-position: center;
  mask-size: contain;
  z-index: 2; /* gradient above cloud image but below label */
}

/* Overlay label container positioned over the cloud */
.labelOverlay {
  /* Cover entire cloud area */
  position: absolute;
  inset: 0;
  width: 100%;
  height: 100%;
  display: block; /* we'll absolutely place the label itself */
  pointer-events: none;
  z-index: 20; /* ensure above cloud image & effects */
}

.label {
  position: absolute; /* place above the cloud */
  top: -6%;
  left: 50%;
  transform: translate(-50%, 0);
  /* Stronger animated gradient text */
  background: linear-gradient(90deg, #06b6d4, #22c55e, #eab308, #ef4444, #8b5cf6, #06b6d4);
  background-size: 400% 100%;
  -webkit-background-clip: text;
  background-clip: text;
  color: transparent;
  text-shadow: 0 1px 0 rgba(255,255,255,0.75), 0 2px 6px rgba(0,0,0,0.25);
  -webkit-text-stroke: 1px rgba(255,255,255,0.4);
  font-weight: 800;
  font-family: 'Press Start 2P', cursive;
  font-size: clamp(10px, 1.8vw, 16px);
  letter-spacing: 0.02em;
  pointer-events: none;
  user-select: none;
  text-align: center;
  width: 90%; /* fit within cloud horizontally */
  line-height: 1.1;
  animation: textShimmer 4.5s ease-in-out infinite;
  z-index: 21; /* above overlay container */
}

/* Per-breakpoint fine tuning: adjust if needed */
@media (max-width: 639px) {
  .container { --caption-shift: 6%; }
}
@media (min-width: 640px) and (max-width: 1023px) {
  .container { --caption-shift: 10%; }
}
@media (min-width: 1024px) {
  .container { --caption-shift: 12%; }
}

@keyframes float {
  0% { transform: translateY(0); }
  50% { transform: translateY(-6px); }
  100% { transform: translateY(0); }
}

@keyframes sway {
  0% { filter: drop-shadow(0 6px 8px rgba(0,0,0,0.25)); }
  50% { filter: drop-shadow(0 8px 12px rgba(0,0,0,0.28)); }
  100% { filter: drop-shadow(0 6px 8px rgba(0,0,0,0.25)); }
}

@keyframes gradientShift {
  0% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}

@keyframes cloudGlow {
  0%, 100% { transform: scale(1); opacity: 0.55; }
  50% { transform: scale(1.03); opacity: 0.8; }
}

@keyframes textShimmer {
  0% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}
